<ng-container *ngIf="data" class="h-100 w-100">
  <form class="w-100 h-100" [formGroup]="data.FormGroup"
    *ngIf="data && data.FormGroup && data.Controls && data.Controls.length > 0">

    <div class="d-flex flex-row flex-wrap">
      <ng-container *ngFor="let dynamicControl of data.Controls">
        <!-- FIXME: Fix broken fullwidth -->
        <div class="d-flex mr-2 mb-2" *ngIf="dynamicControl && !dynamicControl.hidden">
          <ng-container ngxDynamicControl [dynamicControl]="dynamicControl"></ng-container>
        </div>
      </ng-container>
    </div>

    <div class="d-flex flex-row" *ngIf="data?.actions">
      <div class="d-flex" (click)="data.save()">
        <ng-container *ngIf="data?.actions?.save" ngxFormControl [formControlType]="'save-button'">
        </ng-container>
      </div>

      <div class="d-flex ml-2" (click)="data.close()">
        <ng-container *ngIf="data?.actions?.close" ngxFormControl [formControlType]="'close-button'">
        </ng-container>
      </div>

      <div class="d-flex ml-2" (click)="data.reset()">
        <ng-container *ngIf="data?.actions?.reset" ngxFormControl [formControlType]="'reset-button'">
        </ng-container>
      </div>
    </div>
  </form>
</ng-container>
